language: python

# Python releases to test
python:
  - 2.6
  - 2.7

# Django releases
env:
  - DJANGO_VERSION=Django==1.3.7
  - DJANGO_VERSION=Django==1.4.5
  - DJANGO_VERSION=Django==1.5.1

# Package installation
install:
  - pip install --use-mirrors $DJANGO_VERSION
  - python setup.py install
  - pip install pep8 --use-mirrors

before_script:
  - pep8 --exclude=migrations --ignore=E501,E225 src

# Run the tests
script:
  - python setup.py test